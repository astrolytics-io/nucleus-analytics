"use strict";var e=require("crypto"),t=require("child_process"),n=require("node:util"),r=require("node:child_process");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}function s(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}var c=o(e),u=o(t),a=o(r);const f=()=>{if("undefined"!=typeof process)try{const e=1===parseInt(process.env.ELECTRON_IS_DEV,10);return"ELECTRON_IS_DEV"in process.env?e:process.defaultApp||/node_modules[\\/]electron[\\/]/.test(process.execPath)}catch(e){}else if("undefined"!=typeof window)return"localhost"===window.location.hostname||"file:"===window.location.protocol;return!1},l=(e,t,n)=>{var r;return function(){var o=this,i=arguments,s=function(){r=null,n||e.apply(o,i)},c=n&&!r;clearTimeout(r),r=setTimeout(s,t),c&&e.apply(o,i)}},p=()=>Math.floor(1e6*Math.random())+1,d=()=>{const e={};return"undefined"!=typeof sessionStorage?sessionStorage.getItem("nuc-sId")?(e.sessionId=sessionStorage.getItem("nuc-sId"),e.existingSession=!0):(e.sessionId=p(),sessionStorage.setItem("nuc-sId",e.sessionId)):e.sessionId=p(),e},_={deviceId:null,version:null,locale:null,platform:null,osVersion:null};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v={exports:{}};!function(e,t){function n(e,t,n){void 0===n&&(n=!1),n&&(t/=e,e=1);var r,o=[],i=0,s=0,c=function(){var n=i+t,u=Date.now();if(u<n)return void 0!==r&&clearTimeout(r),void(r=setTimeout(c,n-u));i=u,s=0;for(var a=0,f=o.splice(0,e);a<f.length;a++){var l=f[a];s++,l()}r=o.length?setTimeout(c,t):void 0};return function(n){return new Promise((function(u,a){var f=function(){return Promise.resolve().then(n).then(u).catch(a)},l=Date.now();void 0===r&&l-i>t&&(i=l,s=0),s++<e?f():(o.push(f),void 0===r&&(r=setTimeout(c,i+t-l)))}))}}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=n,t.default=n}(v,v.exports);let m,y,g=(t=21)=>{var n;n=t-=0,!m||m.length<n?(m=Buffer.allocUnsafe(128*n),e.randomFillSync(m),y=0):y+n>m.length&&(e.randomFillSync(m),y=0),y+=n;let r="";for(let e=y-t;e<y;e++)r+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&m[e]];return r};const w=h(v.exports)(20,1e3),b="undefined"!=typeof WebSocket?WebSocket:require("ws"),I=(()=>{try{const e=require("conf"),t={encryptionKey:"s0meR1nd0mK3y",configName:"nucleus"};try{const{remote:e,app:n}=require("electron"),r=(e?e.app:n).getPath("userData");t.cwd=r}catch(e){}return new e(t)}catch(e){return"undefined"!=typeof localStorage?{get:e=>JSON.parse(localStorage.getItem(e)),set:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))}}:(console.warn("Nucleus: could not find a way to store cache. Offline events and persistance won't work!"),{get:()=>{},set:()=>{}})}})();let x="wss://app.nucleus.sh",S=!0,O=!1,E=!1,P=20,j=1800,N=null,T={},k=!1,A=!0,M=(new Date).getTime();const L={queue:I.get("nucleus-queue")||[],props:I.get("nucleus-props")||{},userId:I.get("nucleus-userId")||null,anonId:I.get("nucleus-anonId")||null},C={init:function(e,t={}){if(S=!t.disableInDev,O=!!t.debug,E=!!t.disableTracking,t.endpoint&&(x=t.endpoint),t.reportInterval&&(P=t.reportInterval),t.sessionTimeout&&(j=t.sessionTimeout),!e)return console.error("Nucleus: missing app ID");L.anonId||F("anonId",g(12)),T={...d(),appId:e},T.existingSession||this.track(null,null,"init"),k=!0,t.disableErrorReports||"undefined"==typeof process||(process.on("uncaughtException",(e=>{this.trackError("uncaughtException",e)})),process.on("unhandledRejection",(e=>{this.trackError("unhandledRejection",e)}))),"undefined"!=typeof window&&(t.disableErrorReports||(window.onerror=(e,t,n,r,o)=>{this.trackError("windowError",o)}),window.addEventListener("online",q),(()=>{const e=()=>{M=(new Date).getTime(),A||(U("user became active again, reinitializing"),A=!0,T={...T,...d()},C.track(null,null,"init"))};for(let t of["mousedown","keydown","touchstart","scroll"])document.addEventListener(t,e);setInterval((()=>{A&&(new Date).getTime()-M>1e3*j&&(U("user inactivity timeout"),A=!1,window.sessionStorage.clear(),N&&N.close())}),1e3),window.addEventListener("beforeunload",(()=>{N.close()})),e()})()),(async e=>{const t={..._};try{try{const{remote:e,app:n}=await Promise.resolve().then((function(){return i(require("electron"))})),r=e?e.app:n;t.version=r.getVersion()}catch(e){}if("undefined"!=typeof process){const n=await Promise.resolve().then((function(){return i(require("os"))})),r=await Promise.resolve().then((function(){return i(require("crypto"))})),o=await Promise.resolve().then((function(){return z})),s=await Promise.resolve().then((function(){return ie})),c=await o.default.machineId(),u=n.userInfo().username,a=e?c:r.createHash("sha256").update(c+u).digest("base64").substring(0,15);t.platform=n.type(),t.osVersion=n.release(),t.locale=s.osLocaleSync(),t.deviceId=a}else if("undefined"!=typeof navigator){const{ClientJS:e}=await Promise.resolve().then((function(){return se})),n=new e;localStorage.getItem("nucleus-dId")?t.deviceId=localStorage.getItem("nucleus-dId"):(t.deviceId=n.getFingerprint().toString(),localStorage.setItem("nucleus-dId",t.deviceId));const r="MacIntel"===navigator.platform&&navigator.maxTouchPoints>0||"iPad"===navigator.platform;t.platform=r?"iPadOS":n.getOS(),t.osVersion=r?n.getBrowserVersion():n.isMac()?null:n.getOSVersion(),t.locale=n.getLanguage(),t.browser=n.getBrowser()}}catch(e){console.error(e)}return t})(t.useOldDeviceId).then((e=>{T={...e,...T};const t=Object.keys(T).filter((e=>!T[e]));if(t.length&&B(`Some properties couldn't be detected: ${t.join(",")}. Set them manually or data will be missing in the dashboard.`),f()&&!S)return U("in dev mode, not reporting data anything");setInterval(q,1e3*P),q()}))},track:(e,t,n="event")=>w((()=>{if(!e&&!n)return;if(E||f()&&!S)return;if(!k&&"init"!==n)return;U("adding to queue: "+(e||n));const r=Math.floor(1e6*Math.random())+1;"init"===n&&L.props&&(t=L.props);const o="init"===n?new Date-500:(new Date).getTime(),{sessionId:i}=T,s={type:n,name:e,id:r,date:o,payload:t,sessionId:i};F("queue",[...L.queue,s])})),trackError:function(e,t){if(!t)return;const n={stack:t.stack||t,message:t.message||t};this.track(e,n,"error")},setUserId:function(e){if(!e||""===e.trim())return!1;U("user id set to "+e),F("userId",e),this.track(null,null,"userid")},setProps:function(e,t){for(const t in e)t in _&&(T[t]=e[t],delete e[t]);F("props",t?e:{...L.props,...e}),Object.keys(e).length&&this.track(null,L.props,"props")},identify:function(e,t){this.setUserId(e),t&&this.setProps(t,!0)},page:function(e,t){if(!e||""===e.trim()){if("undefined"==typeof window)return!1;e=window.location.pathname}U("viewing screen "+e),this.track(e,t,"nucleus:view")},screen:function(e,t){this.page(e,t)},disableTracking:()=>{E=!0,U("tracking disabled")},enableTracking:()=>{E=!1,U("tracking enabled")}},R=()=>{if(!N||N.readyState!==b.OPEN)return;U(`sending stored events (${L.queue.length})`),L.queue.length?F("queue",L.queue.filter((e=>"heartbeat"!==e.type))):F("queue",[{type:"heartbeat",sessionId:T.sessionId}]);const e=L.queue.map((e=>{const{type:t}=e,{deviceId:n}=T,{userId:r,anonId:o}=L;let i={...e,userId:r,anonId:o,deviceId:n};if(t&&["init","error"].includes(t)){const{platform:e,osVersion:t,version:n,locale:r,moduleVersion:o}=T,s={client:"js",platform:e,osVersion:t,version:n,locale:r,moduleVersion:o};i={...i,...s}}return Object.keys(i).forEach((e=>{null!==i[e]&&void 0!==i[e]||delete i[e]})),i}));U(JSON.stringify(e)),N.sendJson(e)},q=()=>{const e=(new Date).getTime()-1728e5;F("queue",L.queue.filter((t=>new Date(t.date).getTime()>e))),!E&&A&&(N&&N.readyState===b.OPEN||(U("No connection to server. Opening it."),N=new b(`${x}/app/${T.appId}/track`),N.onerror=e=>B(`ws error ${e.code}: ${e.reason}`),N.onclose=e=>B(`ws closed ${e.code}: ${e.reason}`),N.onmessage=D,N.sendJson=e=>N.send(JSON.stringify({data:e})),N.onopen=e=>{U("ws connection opened"),setTimeout(R,1e3)}),R())},D=e=>{let t={};U("server said "+e.data);try{t=JSON.parse(e.data)}catch(e){return void B("Could not parse message from server.")}t.anonId&&(U("anonId received from server "+t.anonId),F("anonId",t.anonId)),(t.reportedIds||t.confirmation)&&(U("Server successfully registered our data."),t.reportedIds?F("queue",L.queue.filter((e=>!t.reportedIds.includes(e.id)))):t.confirmation&&F("queue",[]))},F=(e,t)=>{L[e]=t,l(I.set("nucleus-"+e,t),500,!0)},U=e=>{O&&console.log("Nucleus: "+e)},B=e=>{O&&console.warn("Nucleus warning: "+e)};var G={exports:{}},z=s({__proto__:null,default:h(G.exports=(u.default,c.default,function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(34)},function(e,t,n){var r=n(29)("wks"),o=n(33),i=n(2).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(24)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(12),o=n(17);e.exports=n(4)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(14);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(3),o=n(26),i=n(32),s=Object.defineProperty;t.f=n(4)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(42),o=n(15);e.exports=function(e){return r(o(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(9),o=n(2).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(12).f,o=n(8),i=n(1)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(29)("keys"),o=n(33);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(11),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:i?r(t):"Object"==(c=r(t))&&"function"==typeof t.callee?"Arguments":c}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(2),o=n(6),i=n(7),s=n(5),c="prototype",u=function(e,t,n){var a,f,l,p=e&u.F,d=e&u.G,_=e&u.S,h=e&u.P,v=e&u.B,m=e&u.W,y=d?o:o[t]||(o[t]={}),g=y[c],w=d?r:_?r[t]:(r[t]||{})[c];for(a in d&&(n=t),n)(f=!p&&w&&void 0!==w[a])&&a in y||(l=f?w[a]:n[a],y[a]=d&&"function"!=typeof w[a]?n[a]:v&&f?i(l,r):m&&w[a]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((y.virtual||(y.virtual={}))[a]=l,e&u.R&&g&&!g[a]&&s(g,a,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports=n(2).document&&document.documentElement},function(e,t,n){e.exports=!n(4)&&!n(24)((function(){return 7!=Object.defineProperty(n(16)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(28),o=n(23),i=n(57),s=n(5),c=n(8),u=n(10),a=n(45),f=n(18),l=n(52),p=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),_="@@iterator",h="keys",v="values",m=function(){return this};e.exports=function(e,t,n,y,g,w,b){a(n,t,y);var I,x,S,O=function(e){if(!d&&e in N)return N[e];switch(e){case h:case v:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",P=g==v,j=!1,N=e.prototype,T=N[p]||N[_]||g&&N[g],k=T||O(g),A=g?P?O("entries"):k:void 0,M="Array"==t&&N.entries||T;if(M&&(S=l(M.call(new e)))!==Object.prototype&&(f(S,E,!0),r||c(S,p)||s(S,p,m)),P&&T&&T.name!==v&&(j=!0,k=function(){return T.call(this)}),r&&!b||!d&&!j&&N[p]||s(N,p,k),u[t]=k,u[E]=m,g)if(I={values:P?k:O(v),keys:w?k:O(h),entries:A},b)for(x in I)x in N||i(N,x,I[x]);else o(o.P+o.F*(d||j),t,I);return I}},function(e,t){e.exports=!0},function(e,t,n){var r=n(2),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r,o,i,s=n(7),c=n(41),u=n(25),a=n(16),f=n(2),l=f.process,p=f.setImmediate,d=f.clearImmediate,_=f.MessageChannel,h=0,v={},m="onreadystatechange",y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},g=function(e){y.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++h]=function(){c("function"==typeof e?e:Function(e),t)},r(h),h},d=function(e){delete v[e]},"process"==n(11)(l)?r=function(e){l.nextTick(s(y,e,1))}:_?(i=(o=new _).port2,o.port1.onmessage=g,r=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",g,!1)):r=m in a("script")?function(e){u.appendChild(a("script"))[m]=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,n){var r=n(20),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(){return"win32"!==process.platform?"":"ia32"===process.arch&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"mixed":"native"}function i(e){return(0,l.createHash)("sha256").update(e).digest("hex")}function s(e){switch(p){case"darwin":return e.split("IOPlatformUUID")[1].split("\n")[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return e.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":case"freebsd":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error("Unsupported platform: "+process.platform)}}function c(e){var t=s((0,f.execSync)(d[p]).toString());return e?t:i(t)}function u(e){return new a.default((function(t,n){return(0,f.exec)(d[p],{},(function(r,o,c){if(r)return n(new Error("Error while obtaining machine id: "+r.stack));var u=s(o.toString());return t(e?u:i(u))}))}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(35));t.machineIdSync=c,t.machineId=u;var f=n(70),l=n(71),p=process.platform,d={darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:{native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"}[o()]+"\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"}},function(e,t,n){e.exports={default:n(36),__esModule:!0}},function(e,t,n){n(66),n(68),n(69),n(67),e.exports=n(6).Promise},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(13),o=n(31),i=n(62);e.exports=function(e){return function(t,n,s){var c,u=r(t),a=o(u.length),f=i(s,a);if(e&&n!=n){for(;a>f;)if((c=u[f++])!=c)return!0}else for(;a>f;f++)if((e||f in u)&&u[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(7),o=n(44),i=n(43),s=n(3),c=n(31),u=n(64),a={},f={};t=e.exports=function(e,t,n,l,p){var d,_,h,v,m=p?function(){return e}:u(e),y=r(n,l,t?2:1),g=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(d=c(e.length);d>g;g++)if((v=t?y(s(_=e[g])[0],_[1]):y(e[g]))===a||v===f)return v}else for(h=m.call(e);!(_=h.next()).done;)if((v=o(h,y,_.value,t))===a||v===f)return v},t.BREAK=a,t.RETURN=f},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(11);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(10),o=n(1)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(49),o=n(17),i=n(18),s={};n(5)(s,n(1)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(2),o=n(30).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,c=r.Promise,u="process"==n(11)(s);e.exports=function(){var e,t,n,a=function(){var r,o;for(u&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(a)};else if(i){var f=!0,l=document.createTextNode("");new i(a).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}else if(c&&c.resolve){var p=c.resolve();n=function(){p.then(a)}}else n=function(){o.call(r,a)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(3),o=n(50),i=n(22),s=n(19)("IE_PROTO"),c=function(){},u="prototype",a=function(){var e,t=n(16)("iframe"),r=i.length,o=">";for(t.style.display="none",n(25).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object</script"+o),e.close(),a=e.F;r--;)delete a[u][i[r]];return a()};e.exports=Object.create||function(e,t){var n;return null!==e?(c[u]=r(e),n=new c,c[u]=null,n[s]=e):n=a(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(12),o=n(3),i=n(54);e.exports=n(4)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),c=s.length,u=0;c>u;)r.f(e,n=s[u++],t[n]);return e}},function(e,t,n){var r=n(55),o=n(17),i=n(13),s=n(32),c=n(8),u=n(26),a=Object.getOwnPropertyDescriptor;t.f=n(4)?a:function(e,t){if(e=i(e),t=s(t,!0),u)try{return a(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(8),o=n(63),i=n(19)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(8),o=n(13),i=n(39)(!1),s=n(19)("IE_PROTO");e.exports=function(e,t){var n,c=o(e),u=0,a=[];for(n in c)n!=s&&r(c,n)&&a.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~i(a,n)||a.push(n));return a}},function(e,t,n){var r=n(53),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(5);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){e.exports=n(5)},function(e,t,n){var r=n(9),o=n(3),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(7)(Function.call,n(51).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r=n(2),o=n(6),i=n(12),s=n(4),c=n(1)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];s&&t&&!t[c]&&i.f(t,c,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(3),o=n(14),i=n(1)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[i])?t:o(n)}},function(e,t,n){var r=n(20),o=n(15);e.exports=function(e){return function(t,n){var i,s,c=String(o(t)),u=r(n),a=c.length;return u<0||u>=a?e?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===a||(s=c.charCodeAt(u+1))<56320||s>57343?e?c.charAt(u):i:e?c.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(20),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(15);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(21),o=n(1)("iterator"),i=n(10);e.exports=n(6).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(37),o=n(47),i=n(10),s=n(13);e.exports=n(27)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){},function(e,t,n){var r,o,i,s=n(28),c=n(2),u=n(7),a=n(21),f=n(23),l=n(9),p=(n(3),n(14)),d=n(38),_=n(40),h=(n(58).set,n(60)),v=n(30).set,m=n(48)(),y="Promise",g=c.TypeError,w=c.process,b=c[y],I="process"==a(w=c.process),x=function(){},S=!!function(){try{var e=b.resolve(1),t=(e.constructor={})[n(1)("species")]=function(e){e(x,x)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t}catch(e){}}(),O=function(e,t){return e===t||e===b&&t===i},E=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},P=function(e){return O(b,e)?new j(e):new o(e)},j=o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw g("Bad Promise constructor");t=e,n=r})),this.resolve=p(t),this.reject=p(n)},N=function(e){try{e()}catch(e){return{error:e}}},T=function(e,t){if(!e._n){e._n=!0;var n=e._c;m((function(){for(var r=e._v,o=1==e._s,i=0,s=function(t){var n,i,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,a=t.domain;try{s?(o||(2==e._h&&M(e),e._h=1),!0===s?n=r:(a&&a.enter(),n=s(r),a&&a.exit()),n===t.promise?u(g("Promise-chain cycle")):(i=E(n))?i.call(n,c,u):c(n)):u(r)}catch(e){u(e)}};n.length>i;)s(n[i++]);e._c=[],e._n=!1,t&&!e._h&&k(e)}))}},k=function(e){v.call(c,(function(){var t,n,r,o=e._v;if(A(e)&&(t=N((function(){I?w.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=I||A(e)?2:1),e._a=void 0,t)throw t.error}))},A=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if((t=n[r++]).fail||!A(t.promise))return!1;return!0},M=function(e){v.call(c,(function(){var t;I?w.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),T(t,!0))},C=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw g("Promise can't be resolved itself");(t=E(e))?m((function(){var r={_w:n,_d:!1};try{t.call(e,u(C,r,1),u(L,r,1))}catch(e){L.call(r,e)}})):(n._v=e,n._s=1,T(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};S||(b=function(e){d(this,b,y,"_h"),p(e),r.call(this);try{e(u(C,this,1),u(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(56)(b.prototype,{then:function(e,t){var n=P(h(this,b));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=I?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),j=function(){var e=new r;this.promise=e,this.resolve=u(C,e,1),this.reject=u(L,e,1)}),f(f.G+f.W+f.F*!S,{Promise:b}),n(18)(b,y),n(59)(y),i=n(6)[y],f(f.S+f.F*!S,y,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!S),y,{resolve:function(e){if(e instanceof b&&O(e.constructor,this))return e;var t=P(this);return(0,t.resolve)(e),t.promise}}),f(f.S+f.F*!(S&&n(46)((function(e){b.all(e).catch(x)}))),y,{all:function(e){var t=this,n=P(t),r=n.resolve,o=n.reject,i=N((function(){var n=[],i=0,s=1;_(e,!1,(function(e){var c=i++,u=!1;n.push(void 0),s++,t.resolve(e).then((function(e){u||(u=!0,n[c]=e,--s||r(n))}),o)})),--s||r(n)}));return i&&o(i.error),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,o=N((function(){_(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o&&r(o.error),n.promise}})},function(e,t,n){var r=n(61)(!0);n(27)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){n(65);for(var r=n(2),o=n(5),i=n(10),s=n(1)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var a=c[u],f=r[a],l=f&&f.prototype;l&&!l[s]&&o(l,s,a),i[a]=i.Array}},function(e,t){e.exports=u.default},function(e,t){e.exports=c.default}])))},[G.exports]),H={};const K={4:"zh_CHS",1025:"ar_SA",1026:"bg_BG",1027:"ca_ES",1028:"zh_TW",1029:"cs_CZ",1030:"da_DK",1031:"de_DE",1032:"el_GR",1033:"en_US",1034:"es_ES",1035:"fi_FI",1036:"fr_FR",1037:"he_IL",1038:"hu_HU",1039:"is_IS",1040:"it_IT",1041:"ja_JP",1042:"ko_KR",1043:"nl_NL",1044:"nb_NO",1045:"pl_PL",1046:"pt_BR",1047:"rm_CH",1048:"ro_RO",1049:"ru_RU",1050:"hr_HR",1051:"sk_SK",1052:"sq_AL",1053:"sv_SE",1054:"th_TH",1055:"tr_TR",1056:"ur_PK",1057:"id_ID",1058:"uk_UA",1059:"be_BY",1060:"sl_SI",1061:"et_EE",1062:"lv_LV",1063:"lt_LT",1064:"tg_TJ",1065:"fa_IR",1066:"vi_VN",1067:"hy_AM",1069:"eu_ES",1070:"wen_DE",1071:"mk_MK",1074:"tn_ZA",1076:"xh_ZA",1077:"zu_ZA",1078:"af_ZA",1079:"ka_GE",1080:"fo_FO",1081:"hi_IN",1082:"mt_MT",1083:"se_NO",1086:"ms_MY",1087:"kk_KZ",1088:"ky_KG",1089:"sw_KE",1090:"tk_TM",1092:"tt_RU",1093:"bn_IN",1094:"pa_IN",1095:"gu_IN",1096:"or_IN",1097:"ta_IN",1098:"te_IN",1099:"kn_IN",1100:"ml_IN",1101:"as_IN",1102:"mr_IN",1103:"sa_IN",1104:"mn_MN",1105:"bo_CN",1106:"cy_GB",1107:"kh_KH",1108:"lo_LA",1109:"my_MM",1110:"gl_ES",1111:"kok_IN",1114:"syr_SY",1115:"si_LK",1118:"am_ET",1121:"ne_NP",1122:"fy_NL",1123:"ps_AF",1124:"fil_PH",1125:"div_MV",1128:"ha_NG",1130:"yo_NG",1131:"quz_BO",1132:"ns_ZA",1133:"ba_RU",1134:"lb_LU",1135:"kl_GL",1144:"ii_CN",1146:"arn_CL",1148:"moh_CA",1150:"br_FR",1152:"ug_CN",1153:"mi_NZ",1154:"oc_FR",1155:"co_FR",1156:"gsw_FR",1157:"sah_RU",1158:"qut_GT",1159:"rw_RW",1160:"wo_SN",1164:"gbz_AF",2049:"ar_IQ",2052:"zh_CN",2055:"de_CH",2057:"en_GB",2058:"es_MX",2060:"fr_BE",2064:"it_CH",2067:"nl_BE",2068:"nn_NO",2070:"pt_PT",2077:"sv_FI",2080:"ur_IN",2092:"az_AZ",2094:"dsb_DE",2107:"se_SE",2108:"ga_IE",2110:"ms_BN",2115:"uz_UZ",2128:"mn_CN",2129:"bo_BT",2141:"iu_CA",2143:"tmz_DZ",2155:"quz_EC",3073:"ar_EG",3076:"zh_HK",3079:"de_AT",3081:"en_AU",3082:"es_ES",3084:"fr_CA",3098:"sr_SP",3131:"se_FI",3179:"quz_PE",4097:"ar_LY",4100:"zh_SG",4103:"de_LU",4105:"en_CA",4106:"es_GT",4108:"fr_CH",4122:"hr_BA",4155:"smj_NO",5121:"ar_DZ",5124:"zh_MO",5127:"de_LI",5129:"en_NZ",5130:"es_CR",5132:"fr_LU",5179:"smj_SE",6145:"ar_MA",6153:"en_IE",6154:"es_PA",6156:"fr_MC",6203:"sma_NO",7169:"ar_TN",7177:"en_ZA",7178:"es_DO",7194:"sr_BA",7227:"sma_SE",8193:"ar_OM",8201:"en_JA",8202:"es_VE",8218:"bs_BA",8251:"sms_FI",9217:"ar_YE",9225:"en_CB",9226:"es_CO",9275:"smn_FI",10241:"ar_SY",10249:"en_BZ",10250:"es_PE",11265:"ar_JO",11273:"en_TT",11274:"es_AR",12289:"ar_LB",12297:"en_ZW",12298:"es_EC",13313:"ar_KW",13321:"en_PH",13322:"es_CL",14337:"ar_AE",14346:"es_UR",15361:"ar_BH",15370:"es_PY",16385:"ar_QA",16394:"es_BO",17417:"en_MY",17418:"es_SV",18441:"en_IN",18442:"es_HN",19466:"es_NI",20490:"es_PR",21514:"es_US",31748:"zh_CHT"},V=(e=>{if("object"!=typeof e||null===e)throw new TypeError("Expected an object");const t={};for(const[n,r]of Object.entries(e))t[r]=n;for(const n of Object.getOwnPropertySymbols(e)){t[e[n]]=n}return t})(K);H.from=e=>{if("number"!=typeof e)throw new TypeError("Expected a number");return K[e]},H.to=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");if(V[e])return Number(V[e])},H.all=new Proxy(V,{get(e,t){const n=e[t];if(n)return Number(n)}});const Z=n.promisify(a.default.execFile);const W={spawn:!0};async function J(e,t){return(await async function(e,t){const n=await Z(e,t,{encoding:"utf8"});return n.stdout=n.stdout.trim(),n}(e,t)).stdout}function Y(e,t){return function(e,t){return a.default.execFileSync(e,t,{encoding:"utf8",stdio:["ignore","pipe","ignore"]}).trim()}(e,t)}function $(e=process.env){return e.LC_ALL||e.LC_MESSAGES||e.LANG||e.LANGUAGE}function Q(e){const t={};for(const n of e.split("\n")){const[e,r]=n.split("=");t[e]=r.replace(/^"|"$/g,"")}return $(t)}function X(e){return e&&e.replace(/[.:].*/,"")}async function ee(){return J("locale",["-a"])}function te(e,t=""){return t.includes(e)?e:"en-US"}function ne(){return te(Y("defaults",["read","-globalDomain","AppleLocale"]),Y("locale",["-a"]))}function re(e){return e.replace(/_/,"-")}const oe=new Map;var ie=Object.freeze({__proto__:null,osLocale:async function(e=W){if(oe.has(e.spawn))return oe.get(e.spawn);let t;try{const n=$();t=n||!1===e.spawn?X(n):"win32"===process.platform?await async function(){const e=await J("wmic",["os","get","locale"]),t=Number.parseInt(e.replace("Locale",""),16);return H.from(t)}():"darwin"===process.platform?await async function(){const e=await Promise.all([J("defaults",["read","-globalDomain","AppleLocale"]),ee()]);return te(e[0],e[1])}():await async function(){return X(Q(await J("locale")))}()}catch{}const n=re(t||"en-US");return oe.set(e.spawn,n),n},osLocaleSync:function(e=W){if(oe.has(e.spawn))return oe.get(e.spawn);let t;try{const n=$();t=n||!1===e.spawn?X(n):"win32"===process.platform?function(){const e=Y("wmic",["os","get","locale"]),t=Number.parseInt(e.replace("Locale",""),16);return H.from(t)}():"darwin"===process.platform?ne():X(Q(Y("locale")))}catch{}const n=re(t||"en-US");return oe.set(e.spawn,n),n}}),se=Object.freeze({__proto__:null,default:{}});module.exports=C;
